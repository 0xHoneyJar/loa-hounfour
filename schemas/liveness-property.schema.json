{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://schemas.0xhoneyjar.com/loa-hounfour/8.0.0/liveness-property",
  "additionalProperties": false,
  "description": "F_t-bounded liveness property with companion safety invariant reference.",
  "type": "object",
  "required": [
    "liveness_id",
    "name",
    "description",
    "ltl_formula",
    "companion_safety",
    "universe",
    "timeout_behavior",
    "timeout_seconds",
    "error_codes",
    "severity",
    "contract_version"
  ],
  "properties": {
    "liveness_id": {
      "pattern": "^L-\\d{1,2}$",
      "description": "Canonical identifier (L-1 through L-N).",
      "type": "string"
    },
    "name": {
      "minLength": 1,
      "description": "Human-readable liveness property name.",
      "type": "string"
    },
    "description": {
      "minLength": 1,
      "description": "What forward progress this guarantees.",
      "type": "string"
    },
    "ltl_formula": {
      "minLength": 1,
      "description": "LTL specification with F_t operator. F_t(t, P) = P holds within t seconds.",
      "type": "string"
    },
    "companion_safety": {
      "pattern": "^I-\\d{1,2}$",
      "description": "The companion safety invariant ID this liveness property complements.",
      "type": "string"
    },
    "universe": {
      "description": "Scope boundary for liveness property verification.",
      "anyOf": [
        {
          "const": "single_lot",
          "type": "string"
        },
        {
          "const": "account",
          "type": "string"
        },
        {
          "const": "platform",
          "type": "string"
        },
        {
          "const": "bilateral",
          "type": "string"
        }
      ]
    },
    "timeout_behavior": {
      "$id": "TimeoutBehavior",
      "description": "Action taken when a liveness property timeout expires.",
      "anyOf": [
        {
          "const": "reaper",
          "type": "string"
        },
        {
          "const": "escalation",
          "type": "string"
        },
        {
          "const": "reconciliation",
          "type": "string"
        },
        {
          "const": "manual",
          "type": "string"
        }
      ]
    },
    "timeout_seconds": {
      "minimum": 1,
      "description": "Maximum seconds before the liveness bound expires and timeout_behavior triggers.",
      "type": "integer"
    },
    "error_codes": {
      "minItems": 1,
      "description": "Error codes emitted when the liveness bound is violated.",
      "type": "array",
      "items": {
        "minLength": 1,
        "type": "string"
      }
    },
    "severity": {
      "anyOf": [
        {
          "const": "critical",
          "type": "string"
        },
        {
          "const": "error",
          "type": "string"
        },
        {
          "const": "warning",
          "type": "string"
        }
      ]
    },
    "contract_version": {
      "pattern": "^\\d+\\.\\d+\\.\\d+$",
      "type": "string"
    }
  },
  "$comment": "contract_version=8.0.0, min_supported=6.0.0"
}
