{
  "schema_id": "AgentIdentity",
  "contract_version": "5.5.0",
  "expression_version": "1.0",
  "constraints": [
    {
      "id": "agent-identity-delegation-requires-trust",
      "description": "Agents with delegation authority must have trust_level >= verified",
      "expression": "delegation_authority.length == 0 || trust_level == 'verified' || trust_level == 'trusted' || trust_level == 'sovereign'",
      "severity": "error",
      "category": "authorization"
    },
    {
      "id": "agent-identity-sovereign-max-depth",
      "description": "Sovereign agents must have max_delegation_depth >= 1",
      "expression": "trust_level != 'sovereign' || max_delegation_depth >= 1",
      "severity": "error",
      "category": "authorization"
    },
    {
      "id": "agent-identity-capabilities-non-empty",
      "description": "Capabilities array must be non-empty",
      "expression": "capabilities.length >= 1",
      "severity": "error",
      "category": "completeness"
    }
  ]
}
