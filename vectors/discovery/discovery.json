{
  "valid_discovery": [
    {
      "id": "disc-001",
      "data": {
        "contract_version": "2.2.0",
        "min_supported_version": "2.0.0",
        "schemas": [
          "https://schemas.0xhoneyjar.com/loa-hounfour/2.2.0/domain-event",
          "https://schemas.0xhoneyjar.com/loa-hounfour/2.2.0/billing-entry"
        ],
        "supported_aggregates": ["agent", "billing", "conversation"]
      },
      "note": "full discovery document with supported_aggregates"
    },
    {
      "id": "disc-002",
      "data": {
        "contract_version": "2.2.0",
        "min_supported_version": "2.0.0",
        "schemas": []
      },
      "note": "minimal discovery (no capabilities, empty schemas)"
    },
    {
      "id": "disc-003",
      "data": {
        "contract_version": "2.3.0",
        "min_supported_version": "2.0.0",
        "schemas": [
          "https://schemas.0xhoneyjar.com/loa-hounfour/2.3.0/domain-event"
        ],
        "supported_aggregates": ["agent", "billing"],
        "capabilities_url": "https://api.0xhoneyjar.com/v1/capabilities"
      },
      "note": "v2.3.0 discovery with capabilities_url"
    }
  ],
  "invalid_discovery": [
    {
      "id": "disc-inv-001",
      "data": {
        "min_supported_version": "2.0.0",
        "schemas": []
      },
      "note": "missing required contract_version"
    },
    {
      "id": "disc-inv-002",
      "data": {
        "contract_version": "bad",
        "min_supported_version": "2.0.0",
        "schemas": []
      },
      "note": "invalid contract_version format"
    },
    {
      "id": "disc-inv-003",
      "data": {
        "contract_version": "2.3.0",
        "min_supported_version": "2.0.0",
        "schemas": [],
        "capabilities_url": "not-a-uri"
      },
      "note": "invalid capabilities_url format"
    }
  ]
}
