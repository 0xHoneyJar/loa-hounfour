{
  "description": "Valid CompletionRequest and CompletionResult cross-ecosystem vectors",
  "contract_version": "5.0.0",
  "vectors": [
    {
      "id": "completion-valid-001",
      "description": "Basic text completion request and result",
      "valid": true,
      "request": {
        "request_id": "550e8400-e29b-41d4-a716-446655440000",
        "agent_id": "agent-001",
        "tenant_id": "tenant-001",
        "model": "claude-opus-4-6",
        "messages": [
          { "role": "user", "content": "Hello, how are you?" }
        ],
        "contract_version": "5.0.0"
      },
      "result": {
        "request_id": "550e8400-e29b-41d4-a716-446655440000",
        "model": "claude-opus-4-6",
        "provider": "anthropic",
        "content": "I'm doing well, thank you for asking!",
        "finish_reason": "stop",
        "usage": {
          "prompt_tokens": 12,
          "completion_tokens": 10,
          "total_tokens": 22,
          "cost_micro": "150"
        },
        "latency_ms": 850,
        "contract_version": "5.0.0"
      },
      "expected_cross_field": {
        "request": ["tools_tool_choice_copresence"],
        "result": ["finish_reason_tool_calls", "usage_conservation"]
      }
    },
    {
      "id": "completion-valid-002",
      "description": "Completion with tools and tool_choice",
      "valid": true,
      "request": {
        "request_id": "550e8400-e29b-41d4-a716-446655440001",
        "agent_id": "agent-002",
        "tenant_id": "tenant-001",
        "model": "gpt-5.2",
        "messages": [
          { "role": "system", "content": "You are a helpful assistant." },
          { "role": "user", "content": "What is the weather in NYC?" }
        ],
        "tools": [
          {
            "type": "function",
            "function": {
              "name": "get_weather",
              "description": "Get the current weather for a location",
              "parameters": {
                "type": "object",
                "properties": {
                  "location": { "type": "string" }
                },
                "required": ["location"]
              }
            }
          }
        ],
        "tool_choice": "auto",
        "contract_version": "5.0.0"
      },
      "result": {
        "request_id": "550e8400-e29b-41d4-a716-446655440001",
        "model": "gpt-5.2",
        "provider": "openai",
        "finish_reason": "tool_calls",
        "tool_calls": [
          {
            "id": "call_abc123",
            "type": "function",
            "function": {
              "name": "get_weather",
              "arguments": "{\"location\": \"New York City\"}"
            }
          }
        ],
        "usage": {
          "prompt_tokens": 45,
          "completion_tokens": 20,
          "total_tokens": 65,
          "cost_micro": "350"
        },
        "latency_ms": 1200,
        "contract_version": "5.0.0"
      },
      "expected_cross_field": {
        "request": ["tools_tool_choice_copresence"],
        "result": ["finish_reason_tool_calls", "usage_conservation"]
      }
    },
    {
      "id": "completion-valid-003",
      "description": "Completion with thinking/reasoning enabled",
      "valid": true,
      "request": {
        "request_id": "550e8400-e29b-41d4-a716-446655440002",
        "agent_id": "agent-003",
        "tenant_id": "tenant-002",
        "model": "claude-opus-4-6",
        "messages": [
          { "role": "user", "content": "Solve this step by step: What is 17 * 23?" }
        ],
        "thinking": {
          "enabled": true,
          "budget_tokens": 4096
        },
        "contract_version": "5.0.0"
      },
      "result": {
        "request_id": "550e8400-e29b-41d4-a716-446655440002",
        "model": "claude-opus-4-6",
        "provider": "anthropic",
        "content": "17 * 23 = 391",
        "thinking": "Let me calculate: 17 * 20 = 340, 17 * 3 = 51, 340 + 51 = 391",
        "finish_reason": "stop",
        "usage": {
          "prompt_tokens": 20,
          "completion_tokens": 15,
          "reasoning_tokens": 30,
          "total_tokens": 65,
          "cost_micro": "500"
        },
        "latency_ms": 2100,
        "contract_version": "5.0.0"
      },
      "expected_cross_field": {
        "request": ["tools_tool_choice_copresence"],
        "result": ["finish_reason_tool_calls", "usage_conservation"]
      }
    },
    {
      "id": "completion-valid-004",
      "description": "Completion with budget_limit_micro and max_tokens",
      "valid": true,
      "request": {
        "request_id": "550e8400-e29b-41d4-a716-446655440003",
        "agent_id": "agent-004",
        "tenant_id": "tenant-003",
        "model": "kimi-k2",
        "messages": [
          { "role": "user", "content": "Write a haiku about programming." }
        ],
        "max_tokens": 100,
        "budget_limit_micro": "5000",
        "temperature": 0.7,
        "contract_version": "5.0.0"
      },
      "result": {
        "request_id": "550e8400-e29b-41d4-a716-446655440003",
        "model": "kimi-k2",
        "provider": "moonshot",
        "content": "Code flows like water\nBugs emerge from tangled lines\nTests bring back the calm",
        "finish_reason": "stop",
        "usage": {
          "prompt_tokens": 10,
          "completion_tokens": 18,
          "total_tokens": 28,
          "cost_micro": "200"
        },
        "latency_ms": 600,
        "contract_version": "5.0.0"
      },
      "expected_cross_field": {
        "request": ["tools_tool_choice_copresence"],
        "result": ["finish_reason_tool_calls", "usage_conservation"]
      }
    },
    {
      "id": "completion-valid-005",
      "description": "Completion with content_filter finish reason",
      "valid": true,
      "request": {
        "request_id": "550e8400-e29b-41d4-a716-446655440004",
        "agent_id": "agent-005",
        "tenant_id": "tenant-001",
        "model": "claude-opus-4-6",
        "messages": [
          { "role": "user", "content": "Test prompt for content filter" }
        ],
        "contract_version": "5.0.0"
      },
      "result": {
        "request_id": "550e8400-e29b-41d4-a716-446655440004",
        "model": "claude-opus-4-6",
        "provider": "anthropic",
        "content": "",
        "finish_reason": "content_filter",
        "usage": {
          "prompt_tokens": 8,
          "completion_tokens": 0,
          "total_tokens": 8,
          "cost_micro": "50"
        },
        "latency_ms": 200,
        "contract_version": "5.0.0"
      },
      "expected_cross_field": {
        "request": ["tools_tool_choice_copresence"],
        "result": ["finish_reason_tool_calls", "usage_conservation"]
      }
    }
  ]
}
